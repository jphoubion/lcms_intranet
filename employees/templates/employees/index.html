{% extends 'core/base.html' %}


{% block title %}
Gestion du personnel
{% endblock %}

{% block title_head %}
Gestion du personnel
{% endblock %}

{% block content %}
<nav class="mb-3">
  <div class="flex flex-row w-full space-x-3">
    <a href="{% url 'employees:categories' %}" class="p-3 bg-slate-200 hover:bg-slate-300">Gérer les catégories d'employés</a>
    <a href="{% url 'employees:new_employee' %}" class="p-3 bg-slate-200 hover:bg-slate-300">Ajouter un employé</a>
<!--    <a href="#" class="text-white p-3 hover:bg-slate-400">Item 2</a>-->
<!--    <a href="#" class="text-white p-3 hover:bg-slate-400">Item 3</a>-->
<!--    <a href="#" class="text-white p-3 hover:bg-slate-400">Item 4</a>-->
  </div>
</nav>
<div class="table w-full">
  <div class="table-header-group">
    <div class="table-row">
      <div class="table-cell text-left p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">Nom</div>
      <div class="table-cell text-left p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">Photo</div>
      <div class="table-cell text-left p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">Fonction</div>
      <div class="table-cell text-left p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">A débuté</div>
      <div class="table-cell text-left p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">A quitté</div>
      <div class="table-cell text-left p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">Créé par</div>
      <div class="table-cell text-left p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">Créé le</div>
      <div class="table-cell text-center p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">Modifier</div>
      <div class="table-cell text-center p-3 bg-slate-700 text-white font-semibold border-b border-slate-100">Désactiver</div>
    </div>
  </div>
  <div class="table-row-group ">
    {% for employee in employees %}
      <div class="table-row bg-slate-600 hover:bg-slate-500">
        <div class="table-cell p-3 text-slate-100 text-left border-b border-slate-700"><B>{{ employee.lastname }}</B> {{ employee.firstname }}</div>
        <div class="table-cell p-3 text-slate-100 text-left border-b border-slate-700"><img class="rounded-full w-16 h-16" src={{ employee.picture.url }}></div>
        <div class="table-cell p-3 text-slate-100 text-left border-b border-slate-700">{{ employee.category_employees.name }}</div>
        <div class="table-cell p-3 text-slate-100 text-left border-b border-slate-700">{{ employee.starting_date|date:'d/m/Y' }}</div>
        <div class="table-cell p-3 text-slate-100 text-left border-b border-slate-700">{{ employee.ending_date|date:'d/m/Y' }}</div>
        <div class="table-cell p-3 text-slate-100 text-left border-b border-slate-700">{{ employee.created_by.username }}</div>
        <div class="table-cell p-3 text-slate-100 text-left border-b border-slate-700">{{ employee.created_at|date:'d/m/Y' }}</div>
        <div class="table-cell p-3 text-slate-100 text-center border-b border-slate-700"><a href="{% url 'employees:edit_employee' employee.id %}"><i class="bi-pencil-square text-green-400" style="font-size: 24px;"></i></a></div>
        <div class="table-cell p-3 text-slate-100 text-center border-b border-slate-700 "><a href="{% url 'employees:delete_employee' employee.id %}"><i class="bi-slash-circle text-red-400" style="font-size: 24px;"></i></a></div>
      </div>
    {% endfor %}
    </div>
</div>
{% endblock %}